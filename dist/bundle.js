(()=>{"use strict";class t{constructor(t,i,s){this.x=t,this.y=i,this.color=s}moveTo(t,i){this.x=t,this.y=i}moveBy(t,i){this.x+=t,this.y+=i}}class i extends t{constructor(t,i,s,h,e){super(t,i,e),this.width=s,this.height=h,this.status=1}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}class s{constructor(t,i,s,h,e,r,o,d,n){this.columnCount=t,this.rowNumber=i,this.width=s,this.height=h,this.offsetLeft=e,this.offsetTop=r,this.brickPadding=10,this.h=o,this.s=d,this.l=n,this.row=[],this.createBricks()}createBricks(){for(let t=0;t<this.columnCount;t+=1){const s=t*(this.width+this.brickPadding)+this.offsetLeft,h=this.rowNumber*(this.height+this.brickPadding)+this.offsetTop;this.row.push(new i(s,h,this.width,this.height,`hsl(${t*(1/this.columnCount)*100+this.h}, ${this.s}, ${this.l})`))}}}class h extends t{constructor(t,i,s,h="#000",e="Arial",r="14px",o="left"){super(t,i,h),this.text=s,this.font=e,this.fontSize=r,this.align=o}render(t){t.font=`${this.fontSize} ${this.font}`,t.fillStyle=this.color,t.textAlign=this.align,t.fillText(this.text,this.x,this.y)}}const e=document.getElementById("myCanvas"),r=e.getContext("2d");let o=0,d=3,n=!1,c=!1,l=!1;const a=new class extends t{constructor(t,i,s,h="#000"){super(i,s,h),this.startX=i,this.startY=s,this.radius=t,this.dy=-2,this.dx=2}resetBall(){this.x=this.startX,this.y=this.startY,this.dx=2,this.dy=-2}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle="#000",t.fill(),t.closePath()}}(10,e.width/2,e.height-30),u=new class extends t{constructor(t,i,s,h,e="#000"){super(t,i,e),this.width=s,this.height=h}movePaddle(t,i,s){t?(this.x+=7,this.x+this.width>s.width&&(this.x=s.width-this.width)):i&&(this.x-=7,this.x<0&&(this.x=0))}render(t,i){t.beginPath(),t.rect(this.x,i.height-this.height,this.width,this.height),t.fillStyle="#000",t.fill(),t.closePath()}}((e.width-75)/2,e.height-10,75,10),f=new h(e.width-65,20,"Lives: "+d),w=new h(8,20,"Score: "+o),x=new h(e.width/2-50,e.height/2,"","#000","Arial","20px"),k=new class{constructor(t,i,s,h,e,r){this.brickColumnCount=t,this.brickWidth=i,this.brickHeight=s,this.brickOffsetLeft=h,this.brickOffsetTop=e,this.colorStart=r,this.brickList=[],this.setup()}setup(){for(let t=0;t<=2;t+=2)this.brickList[t]=new s(this.brickColumnCount,t,this.brickWidth,this.brickHeight,this.brickOffsetLeft,this.brickOffsetTop,this.colorStart,"100%","60%");this.brickList[1]=new s(2*this.brickColumnCount,1,32.5,this.brickHeight,this.brickOffsetLeft,this.brickOffsetTop,this.colorStart,"100%","60%")}drawBricks(t){for(let i=0;i<this.brickList.length;i+=1)for(let s=0;s<this.brickList[i].row.length;s+=1)1===this.brickList[i].row[s].status&&this.brickList[i].row[s].render(t)}}(5,75,20,30,30,200*Math.random()+10);document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?n=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(c=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?n=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(c=!1)}),!1),document.addEventListener("mousemove",(function(t){const i=t.clientX-e.offsetLeft;i>0&&i<e.width&&(u.x=i-u.width/2,u.x<0&&(u.x=0),u.x+u.width>e.width&&(u.x=e.width-u.width))}),!1),function t(){d>0&&!l&&(r.clearRect(0,0,e.width,e.height),a.render(r),function(){let t=0;for(let i=0;i<k.brickList.length;i+=1)for(let s=0;s<k.brickList[i].row.length;s+=1){const h=k.brickList[i].row[s];t+=1,1===h.status&&a.x>h.x-a.radius&&a.x<h.x+k.brickList[i].row[s].width+a.radius&&a.y>h.y-a.radius&&a.y<h.y+k.brickList[i].row[s].height+a.radius&&(a.dy=-a.dy,h.status=0,o+=1,w.text="Score: "+o)}o>=t&&(l=!0)}(),(a.x+a.dx>e.width-a.radius||a.x+a.dx<a.radius)&&(a.dx=-a.dx),a.y+a.dy<a.radius?a.dy=-a.dy:a.y+a.dy>e.height-a.radius-u.height&&(a.x>u.x-a.radius&&a.x<u.x+u.width+a.radius?a.dy=-a.dy:(d-=1,f.text="Lives: "+d,u.x=(e.width-u.width)/2,a.resetBall())),a.moveBy(a.dx,a.dy),u.render(r,e),u.movePaddle(n,c,e),k.drawBricks(r),f.render(r),w.render(r),d<=0?(x.text="Game Over.",x.render(r)):l&&(x.text="You Won!",x.render(r)),window.requestAnimationFrame(t))}()})();